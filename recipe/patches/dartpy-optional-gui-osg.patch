diff --git a/python/dartpy/CMakeLists.txt b/python/dartpy/CMakeLists.txt
index 860f219505..71f92318c6 100644
--- a/python/dartpy/CMakeLists.txt
+++ b/python/dartpy/CMakeLists.txt
@@ -19,6 +19,9 @@
 
 file(GLOB_RECURSE dartpy_headers "*.h" "*.hpp")
 file(GLOB_RECURSE dartpy_sources "*.cpp")
+if(NOT DART_BUILD_GUI_OSG)
+  list(FILTER dartpy_sources EXCLUDE REGEX "/gui/osg/")
+endif()
 
 # Python binding module name
 set(pybind_module dartpy)
@@ -47,8 +50,10 @@
   dart-utils
   dart-utils-urdf
   dart-gui
-  dart-gui-osg
 )
+if(DART_BUILD_GUI_OSG)
+  list(APPEND dartpy_libraries dart-gui-osg)
+endif()
 foreach(dartpy_library ${dartpy_libraries})
   if(NOT TARGET ${dartpy_library})
     message(FATAL_ERROR "Cannot find the library ${dartpy_library}. Please check the configuration of DART.")
